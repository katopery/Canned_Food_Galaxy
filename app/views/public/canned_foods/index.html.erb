<div class="container">
  <div class="row offset-md-1 my-5">
    <h2 class="col-md-auto col-sm-12 px-3 text-center">缶詰一覧</h2>

    <!--缶詰名での検索-->
    <div class="search_form col-lg-4 m-2 text-center justify-content-center d-flex align-items-center">
      <%= form_with url: canned_foods_search_path, local: true, method: :get do |f| %>
        <div class="d-flex align-items-center justify-content-center">
          <%= f.text_field :word, placeholder:"缶詰名"%>
          <%= f.hidden_field :range, value: "缶詰"%>
          <%= f.hidden_field :search, value: "partial"%>
          <%= f.submit "検索", class: "btn btn-primary ml-2" %>
        </div>
      <% end %>
    </div>

    <!--タグ名での検索-->
    <div class="search_form col-lg-4 m-2 text-center justify-content-center d-flex align-items-center">
      <%= form_with url: canned_foods_search_tag_path, method: :get, class: 'boards_searchForm' do |f| %>
        <div class="d-flex align-items-center justify-content-center">
          <%= f.collection_select(:tag_id, Tag.all, :id, :name, { prompt: 'タグで絞り込み検索' }) %>
          <%= f.submit "検索", class: "btn btn-primary ml-2" %>
        </div>
      <% end %>
    </div>
  </div>

  <!--新しい順/古い順表示-->
  <div class="row my-3 text-center justify-content-center">
    <%= link_to "新しい順", canned_foods_path(sort_created_at: 'created_at desc') %>
    ｜
    <%= link_to "古い順", canned_foods_path(sort_created_at: 'created_at asc') %>
  </div>

  <!--各評価の高い順表示-->
  <%= render "sorted_ratings", url_for: canned_foods_path, expiry_date_rating: @expiry_date_rating, taste_rating: @taste_rating, snack_rating: @snack_rating, outdoor_rating: @outdoor_rating, word: nil, tag_id: nil %>


  <!--各評価での絞り込み表示-->
  <%= render "rating_filter", path: canned_foods_path, expiry_date_rating: @expiry_date_rating, taste_rating: @taste_rating, snack_rating: @snack_rating, outdoor_rating: @outdoor_rating, word: nil, tag_id: nil %>

  <!--缶詰一覧の表示-->
  <% @canned_foods.each do |canned_food| %>
    <%= render "list", canned_food: canned_food %>
  <% end %>

  <div class="row">
    <div class="mx-auto my-2">
      <%= paginate @canned_foods %>
    </div>
  </div>
</div>